#+TITLE: linux

* basic settings

** mirrors

manjaro

#+BEGIN_SRC bash
sudo  pacman-mirrors -i -c China -m rank
#+END_SRC


** shell

#+BEGIN_SRC bash
plugins=(git
         zsh-autosuggestions
         zsh-syntax-highlighting
         gradle-completion
         fzf-zsh-plugin
         web-search
        )
#+END_SRC

#+BEGIN_SRC bash
otfinfo --info Cousine\ Bold\ Nerd\ Font\ Complete.ttf
font-family: Cousine Nerd Font
#+END_SRC

#+BEGIN_SRC bash

git clone https://github.com/zsh-users/zsh-autosuggestions  ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

git clone https://github.com/gradle/gradle-completion.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/gradle-completion

git clone https://github.com/unixorn/fzf-zsh-plugin.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/fzf-zsh-plugin
#+END_SRC


** tmux tmuxinator, alacritty, zsh, oh-my-zsh

manjaro

#+BEGIN_SRC bash
pacman -S tmux
# ruby
pacman -S ruby

gem install tmuxinator

git clone https://github.com/gpakosz/.tmux.git

ln -s -f .tmux/.tmux.conf

cp .tmux/.tmux.conf.local .

export PATH=$HOME/.local/share/gem/ruby/3.0.0/bin:$PATH
#+END_SRC


oh-my-zsh

#+BEGIN_SRC bash
wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh
sh install.sh
#+END_SRC

#+BegiN_SRC bash
https://github.com/ryanoasis/nerd-fonts

https://github.com/adobe-fonts/source-code-pro

https://github.com/romkatv/powerlevel10k
#+END_SRC

oh-my-tmux

#+BEGIN_SRC shell
$ cd
$ git clone https://github.com/gpakosz/.tmux.git
$ ln -s -f .tmux/.tmux.conf
$ cp .tmux/.tmux.conf.local .
#+END_SRC


#+BEGIN_SRC conf
set -gu prefix2
unbind C-a
unbind C-b
set -g prefix 'C-\'
bind 'C-\' send-prefix
#+END_SRC



** linux headers

#+BEGIN_SRC bash
uname -r

sudo pacman -S linux-headers
#+END_SRC

** linux-headers上踩过的坑

1. linux-headers 默认没有usb网卡的驱动，导致怎么也安装不了绿联的网卡

* keyboard

/usr/bin/setxkbmap -option "ctrl:nocaps"


# KEYBOARD CONFIGURATION FILE

# Consult the keyboard(5) manual page.

XKBMODEL="pc105"
XKBLAYOUT="us"
XKBVARIANT=""
XKBOPTIONS="ctrl:swapcaps"

BACKSPACE="guess"



* systemd

** liquid powsave

#+BEGIN_SRC bash
# /etc/systemd/logind.conf and make sure you have
# which will make it ignore the lid being closed. (You may need to also undo the other changes you've made.)
HandleLidSwitch=ignore

systemctl restart systemd-logind
#+END_SRC

#+BEGIN_SRC bashg
sudo pacman -S autoconf gcc make gnutls  ncurses extra/gnutls28
#+END_SRC


* develop tools



** emacs

#+BEGIN_SRC bash
pacman -S emacs git vim

pacman -S docker
#+END_SRC


** base-devel

#+BEGIN_SRC bash
sudo pacman -Sy base-devel
#+END_SRC

** Dev Tools

pacman -S the_silver_searcher
pacman -S fzf

git clone https://github.com/wting/autojump.git

*** google-chrome

pacman -S chromium


https://aur.archlinux.org/packages/google-chrome

git clone https://aur.archlinux.org/google-chrome.git

makepkg -s

sudo pacman -U google-chrome-98.0.4758.102-1-x86_64.pkg.tar.zst


** lisp

git clone https://aur.archlinux.org/chez-scheme.git

makepkg -s

sudo pacman -U chez-scheme

** fonts

Linux的字体都在/usr/share/fonts这个目录里，一种字体就是这个目录下面的一个子目录。注意，如果把Windows某个字体的ttf文件复制到某个新建的子目录里面，还需要在子目录里用root用户身份依次执行如下三条命令，这个字体才能用，并不是复制到/usr/share/fonts目录就可以用了：



https://github.com/romkatv/powerlevel10k  zsh theme



#+BEGNIN_SRC

#+END_SRC



mkfontscale
mkfontdir
fc-cache -f


** ibus


** kmscon

#+BEGIN_SRC bash
sudo pacman -Syyu
#+END_SRC

#+BEGIN_SRC bash
systemctl disable getty@tty1.service
systemctl enable kmsconvt@tty1.service
#+END_SRC


~/etc/kmscon/kmscon.conf~ 文件配置

#+BEGIN_SRC bash
font-size=18
xbx-options=ctrl:nocaps
font-name=Hack Nerd Font Mono
#+END_SRC

*** ref

https://wiki.archlinux.org/index.php/KMSCON


** latex

安装 ~latex~ 及其中文依赖

#+BEGIN_SRC bash
pacman -S texlive-most texlive-lang
#+END_SRC
