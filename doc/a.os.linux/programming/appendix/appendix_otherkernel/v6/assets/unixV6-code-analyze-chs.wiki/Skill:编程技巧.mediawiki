__TOC__
=[[pdp11:JSR|JSR]] PC,DST=

==解释==
将当前PC入栈,从DST中恢复先前的PC 

=[[pdp11:RTS|RTS]] PC=

==解释==
退栈恢复先前PC,回到子程序调用前的现场,使程序继续执行

=无名结构=
==举例==
<div class="wikicode">
2313 struct<br/>
2314 {<br/>
2315     int rsr;<br/>
2316     int rbr;<br/>
2317     int xsr;<br/>
2318     int xbr;<br/>
2319 };<br/>
...<br/>
2393 while((KL->xsr&0200) == 0)<br/>
2394 ;<br/>
...<br/>
</div>
==解释==
*无名结构 是在Unix V6中可以被编译的特殊结构，现代C语言编译器已经无法编译了
*无名结构 多用于方便寻址
*例中
::KL是一个地址，为0177560
::KL->xsr 即 0177564 地址中的数据

=直接取地址数据=
==解释==
===问题===
:SW = 0177570，为一内存地址
:现要判断该地址里的内容是否为0

===方法1:===
:if(SW == 0)
:由于SW是一个指针,所以显然不行

===方法2:===
:if(SW-> ==0)
:C语言中显然没有这样的语法,所以也行不通

===方法3:===
*首先定义一个无名结构体,参考[[编程技巧#无名结构|无名结构]]
<div class="wikiheadcode">
0173     /* single integer /*<br/>
0174 <br/>
0175  struct{int integ; }<br/>
</div>
*现在就可以通过语句if (SW->integ == 0) 来判断SW所指向的值是否为空了

=设置处理机状态字=
*汇编代码中经常设置[[处理机状态字]]，主要有以下的形式
*[[pdp11:BIC|BIC]] 指令，用于清位，例如<div class="wikiheadcode"> [[pdp11:BIC|BIC]] $340,PS</div>用于将 [[处理机状态字]] 5-7 位清零
*[[pdp11:BIS|BIS]] 指令，用于置位，例如<div class="wikiheadcode"> [[pdp11:BIS|BIS]] $40,PS</div>用于将 [[处理机状态字]] 第5位 置1

=负数表示堆栈区=
*常用 负数 表示堆栈区，举例说明如下
*设 n = -5，补码为 1111111111111011
*补码 按照 [[内存管理|虚实地址映照]](以[[用户态]]为例) ，转换为如下地址
**使用 UISA7/UISD7
**块号为 128
**块内偏移 为 59 (倒数第5字节)
**刚好 为 堆栈的第5个元素
*常用 -n 表示 堆栈区 的 第n元素